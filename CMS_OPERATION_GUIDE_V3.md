# CMS åŠŸèƒ½æ›´æ–°èˆ‡æ“ä½œæŒ‡å— v3.0
**æ–‡ä»¶ç·¨è™Ÿ**ï¼šDOC-20260116-v3
**æ—¥æœŸ**ï¼š2026-01-16
**é©ç”¨å°è±¡**ï¼šç¶²ç«™ç®¡ç†å“¡ã€å…§å®¹ç·¨è¼¯äººå“¡ (é»ƒè€é—†)

---

## ğŸ“‹ æœ¬æ¬¡æ›´æ–°ç¸½è¦½

ä»Šæ™šçš„é–‹ç™¼é‡é»åœ¨æ–¼æå‡é¦–é èˆ‡å…¨ç«™è³‡è¨Šçš„**å¾Œå°å¯ç·¨è¼¯æ€§**ï¼Œä¸¦å„ªåŒ–äº†éƒ¨åˆ†è¦–è¦ºç´°ç¯€ã€‚

### ä¸»è¦æ›´æ–°é …ç›®
1.  **é¦–é è¼ªæ’­åœ– (Intro Slides)**ï¼šå…¨é¢æ•´åˆè‡³ Sanity å¾Œå°ï¼Œæ”¯æ´åœ–æ–‡è‡ªç”±ç·¨è¼¯ã€‚
2.  **é å°¾è³‡è¨Š (Footer)**ï¼šé–‹æ”¾å¾Œå°ä¿®æ”¹ç¶²ç«™æ¨™é¡Œã€è¯çµ¡é›»è©±ã€åœ°å€ç­‰è³‡è¨Šã€‚
3.  **å‰µè¾¦äººç…§ç‰‡**ï¼šæ›´æ–°è¯çµ¡é é¢çš„å‰µè¾¦äººç…§ç‰‡ç´ æã€‚
4.  **è‡ªå‹•åŒ–è³‡æ–™é·ç§»**ï¼šå»ºç«‹è‡ªå‹•åŒ–è…³æœ¬ï¼Œå°‡æ—¢æœ‰å…§å®¹ç„¡ç—›æ¬ç§»è‡³è³‡æ–™åº«ã€‚
5.  **è¦–è¦ºå„ªåŒ–**ï¼šèª¿æ•´é¦–é è¼ªæ’­åœ–çš„é»‘è‰²é®ç½©æ¼¸å±¤ï¼Œæå‡é€šé€æ„Ÿã€‚

---

## ğŸ› ï¸ åŠŸèƒ½æ“ä½œèªªæ˜

### 1. é¦–é è¼ªæ’­åœ–ç®¡ç† (Intro Slides)
ç¾åœ¨æ‚¨å¯ä»¥éš¨æ™‚æ›´æ›æ–°æ‘å¤§é–€çš„è¼ªæ’­ç…§ç‰‡èˆ‡æ–‡æ¡ˆã€‚

*   **æ“ä½œè·¯å¾‘**ï¼šé€²å…¥ CMS å¾Œå° -> é»é¸å·¦å´ **ã€Œé¦–é  (Home)ã€**ã€‚
*   **åŠŸèƒ½å€å¡Š**ï¼šæ‰¾åˆ° **ã€Œæ–°æ‘å¤§é–€è¼ªæ’­åœ– (Intro Slides)ã€** æ¬„ä½ã€‚
*   **æ“ä½œæ–¹å¼**ï¼š
    *   **æ–°å¢**ï¼šé»æ“Šã€ŒAdd Itemã€æ–°å¢ä¸€å¼µæŠ•å½±ç‰‡ã€‚
    *   **æ’åº**ï¼šæŒ‰ä½å·¦å´å…­å€‹é»çš„åœ–ç¤ºï¼Œæ‹–æ‹‰å³å¯èª¿æ•´é †åºã€‚
    *   **åˆªé™¤**ï¼šé»é¸é …ç›®å³å´é¸å–®å¯åˆªé™¤ã€‚
*   **é˜²å‘†æ©Ÿåˆ¶**ï¼šå¦‚æœå¾Œå°ä¸å°å¿ƒæŠŠæ‰€æœ‰åœ–ç‰‡éƒ½åˆªå…‰äº†ï¼Œå‰ç«¯ç¶²ç«™æœƒè‡ªå‹•é¡¯ç¤ºã€Œç³»çµ±é è¨­ã€çš„é‚£çµ„ç…§ç‰‡ (é›å…¬ç¢—ç­‰)ï¼Œç¢ºä¿ç‰ˆé¢æ°¸é æœ‰æ±è¥¿çœ‹ã€‚
*   **è¦–è¦ºå„ªåŒ–**ï¼šåœ–ç‰‡ä¸‹æ–¹çš„é»‘è‰²æ¼¸å±¤å·²å¾ 80% èª¿æ•´ç‚º **40%**ï¼Œè®“ç•«é¢æ›´æ¸…çˆ½ã€‚

### 2. é å°¾è³‡è¨Šç®¡ç† (Site Footer)
å…¨ç«™é å°¾çš„è¯çµ¡è³‡è¨Šèˆ‡æ¨™é¡Œç¾åœ¨éƒ½çµ±ä¸€ç®¡ç†ã€‚

*   **æ“ä½œè·¯å¾‘**ï¼šé€²å…¥ CMS å¾Œå° -> é»é¸å·¦å´ **ã€Œç¶²ç«™è¨­å®š (Site Settings)ã€**ã€‚
*   **å¯ç·¨è¼¯æ¬„ä½**ï¼š
    *   **ç¶²ç«™ä¸»æ¨™é¡Œ & å‰¯æ¨™é¡Œ**
    *   **æè¿° (Description)**
    *   **è¯çµ¡è³‡è¨Š**ï¼šåŒ…å« æœå‹™å€åŸŸã€é›»è©±ã€Emailã€åœ°å€ã€‚
*   **å³æ™‚æ›´æ–°**ï¼šä¿®æ”¹å¾Œç™¼å¸ƒï¼Œå…¨ç«™æ¯ä¸€é çš„é å°¾éƒ½æœƒç«‹åˆ»åŒæ­¥æ›´æ–°ã€‚

### 3. é€²éšåŠŸèƒ½ï¼šåœ°åœ–æ™¯é»ç®¡ç† (Map Admin Mode)
**é€™æ˜¯ä¸€å€‹å°ˆç‚ºæ¥­ä¸»é–‹ç™¼çš„ã€Œéš±è—ç‰ˆåŠŸèƒ½ã€ï¼Œè§£æ±ºã€Œä¸çŸ¥é“åœ°é»åº§æ¨™ã€çš„ç—›é»ã€‚**

*   **å•é¡Œæƒ…å¢ƒ**ï¼šç•¶æ‚¨æƒ³è¦åœ¨åœ°åœ–ä¸Šæ–°å¢ä¸€å€‹æ™¯é»ï¼ŒSanity å¾Œå°æœƒè¦æ±‚æ‚¨è¼¸å…¥ `Coordinate X` å’Œ `Coordinate Y`ï¼Œä½†æ‚¨ä¸å¯èƒ½æ†‘ç©ºçŒœå‡ºé€™å…©å€‹æ•¸å­—ã€‚
*   **è§£æ±ºæ–¹æ¡ˆ**ï¼šä½¿ç”¨ç¶²ç«™å…§å»ºçš„ã€Œç®¡ç†è€…æ¨¡å¼ã€ã€‚

#### æ­¥é©Ÿæ•™å­¸ï¼š
1.  **é–‹å•Ÿç®¡ç†è€…æ¨¡å¼**ï¼š
    *   åœ¨è§€å…‰åœ°åœ–é é¢çš„ç¶²å€å¾Œæ–¹åŠ ä¸Š `?mode=admin`ã€‚
    *   ä¾‹å¦‚ï¼š`http://localhost:5173/village/map?mode=admin` (æˆ–æ‚¨çš„æ­£å¼ç¶²å€)ã€‚
    *   **æˆåŠŸè¨Šè™Ÿ**ï¼šæ‚¨æœƒçœ‹åˆ°æ¨™é¡Œä¸‹æ–¹å‡ºç¾ç´…è‰²çš„ `ğŸ”§ Admin Mode` æç¤ºå­—æ¨£ï¼Œä¸”åœ°åœ–å‘¨åœæœ‰ç´…è‰²å¤–æ¡†ã€‚

2.  **ä¸€éµç²å–åº§æ¨™**ï¼š
    *   æ»‘é¼ æ¸¸æ¨™æœƒè®Šæˆåå­—å‹ã€‚
    *   ç›´æ¥åœ¨åœ°åœ–åœ–ç‰‡ä¸Šï¼Œ**é»æ“Šæ‚¨æƒ³è¦æ–°å¢æ™¯é»çš„æ­£ç¢ºä½ç½®**ã€‚
    *   ç³»çµ±æœƒå½ˆå‡ºè¦–çª—é¡¯ç¤ºï¼šã€ŒX: 35, Y: 72 (å·²è¤‡è£½)ã€ã€‚

3.  **å¡«å…¥å¾Œå°**ï¼š
    *   å›åˆ° Sanity CMS å¾Œå° -> **ã€Œæ‘è½ (Village)ã€** -> **ã€Œè§€å…‰åœ°åœ– (Map)ã€** -> **ã€ŒLocationsã€**ã€‚
    *   å°‡å‰›å‰›è¤‡è£½çš„æ•¸å­—ï¼Œåˆ†åˆ¥å¡«å…¥ `Coordinate X` å’Œ `Coordinate Y` æ¬„ä½ã€‚
    *   ç™¼å¸ƒå¾Œï¼Œæ™¯é»åœ–é‡˜å°±æœƒç²¾æº–å‡ºç¾åœ¨æ‚¨å‰›å‰›é»æ“Šçš„ä½ç½®ï¼

4.  **æ›´æ›åº•åœ– (å¦‚æœ‰éœ€è¦)**ï¼š
    *   è‹¥åœ°è²Œæœ‰å¤§è®Šå‹•ï¼Œæ‚¨å¯ä»¥è«‹æ’ç•«å®¶ç•«å¥½æ–°åœ°åœ–ã€‚
    *   åœ¨å¾Œå° **ã€ŒMap Imageã€** æ¬„ä½ç›´æ¥ä¸Šå‚³æ–°åœ–ï¼Œå³å¯æ›¿æ›æ•´å¼µåº•åœ–ã€‚

---

## ğŸ‘¨â€ğŸ’» æŠ€è¡“èˆ‡ç¶­è­·ç­†è¨˜ (Developer Notes)

### 1. è³‡æ–™é·ç§»è…³æœ¬ (Migration Script)
ç‚ºäº†é¿å…æ‰‹å‹•ä¸Šå‚³å¤§é‡åœ–ç‰‡ï¼Œæœ¬æ¬¡å»ºç«‹äº†è‡ªå‹•åŒ–æ¬é‹è…³æœ¬ã€‚
*   **è…³æœ¬ä½ç½®**ï¼š`rumah_papan_studio/scripts/migrateSlides.js`
*   **ç”¨é€”**ï¼šè®€å–æœ¬åœ° `src/assets/images` åœ–ç‰‡ä¸¦æ‰¹é‡ä¸Šå‚³è‡³ Sanityã€‚
*   **åŸ·è¡ŒæŒ‡ä»¤**ï¼š
    ```bash
    npx sanity exec scripts/migrateSlides.js --with-user-token
    ```
    *(éœ€å…ˆåŸ·è¡Œ `npx sanity login` ç¢ºä¿æ¬Šé™)*

### 2. è³‡æ–™çµæ§‹æ›´æ–° (Schema Changes)
*   **schemas/home.ts**ï¼šæ–°å¢ `introSlides` é™£åˆ—ã€‚
*   **schemas/siteSettings.ts**ï¼šæ–°å¢ `subtitle`, `phone`, `address`, `serviceRegion` ç­‰æ¬„ä½ã€‚
*   **schemas/village.ts**ï¼šä¿®å¾©äº†å¾Œå°åˆ—è¡¨é è¦½ (Preview) é¡¯ç¤º JSON åŸå§‹ç¢¼çš„å•é¡Œï¼Œç¾åœ¨èƒ½æ­£ç¢ºé¡¯ç¤ºä¸­æ–‡æ¨™é¡Œã€‚

### 3. Git ç‰ˆæœ¬æ§åˆ¶
*   **Frontend Repo** (`rumah_papan`)ï¼šå·²æ¨é€è‡³ `feature/cms-sanity` åˆ†æ”¯ã€‚
*   **Studio Repo** (`rumah_papan_studio`)ï¼šå·²æ¨é€è‡³ `main` åˆ†æ”¯ã€‚
*   å…©ç«¯ä»£ç¢¼å‡å·²åŒæ­¥è‡³ GitHubï¼Œç‰ˆè™Ÿä¸€è‡´ã€‚

---

*æ–‡ä»¶è£½ä½œï¼šAI ä»£ç†äºº (Claude 4.5 Opus / Gemini 3.0 Pro)*
